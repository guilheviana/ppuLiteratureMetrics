colorblindr::cvd_grid(version_history)
version_history
version_history <- vh_formatted |>
ggplot(aes(x = Year,  y = `Cumulative Number of Updates`, group = Accession, color = Accession)) +
geom_vline(mapping = aes(xintercept = 2016), linetype = "dashed", linewidth = 0.6, color = "gray50") +
geom_step(linewidth = 2) +
scale_color_manual(name = "Accession", breaks = c("NC_002947", "AE015451"), values = c("steelblue", "#8cba9d"))+
scale_x_continuous(breaks = c(2002, 2006, 2010, 2014, 2018, 2022)) +
labs(x = "Year", y = "Cumulative number of revisions") +
theme_light(base_size = 16) +
theme(
panel.background = element_blank(),
panel.grid.minor = element_blank(),
legend.position = "inside",
legend.position.inside = c(0.15, 0.85),
axis.text = element_text(color = "black")
)
version_history
version_history <- vh_formatted |>
ggplot(aes(x = Year,  y = `Cumulative Number of Updates`, group = Accession, color = Accession)) +
geom_vline(mapping = aes(xintercept = 2016), linetype = "dashed", linewidth = 0.6, color = "gray50") +
geom_step(linewidth = 2) +
scale_color_manual(name = "Accession", breaks = c("NC_002947", "AE015451"), values = c("steelblue", "#8cba9d"))+
scale_x_continuous(breaks = c(2002, 2006, 2010, 2014, 2018, 2022)) +
labs(x = "Year", y = "Cumulative number of revisions") +
theme_light(base_size = 16) +
theme(
panel.border = element_blank(),
panel.grid.minor = element_blank(),
legend.position = "inside",
legend.position.inside = c(0.15, 0.85),
axis.text = element_text(color = "black")
)
version_history
version_history <- vh_formatted |>
ggplot(aes(x = Year,  y = `Cumulative Number of Updates`, group = Accession, color = Accession)) +
geom_vline(mapping = aes(xintercept = 2016), linetype = "dashed", linewidth = 0.6, color = "gray50") +
geom_step(linewidth = 2) +
scale_color_manual(name = "Accession", breaks = c("NC_002947", "AE015451"), values = c("steelblue", "#8cba9d"))+
scale_x_continuous(breaks = c(2002, 2006, 2010, 2014, 2018, 2022)) +
labs(x = "Year", y = "Cumulative number of revisions") +
theme_light(base_size = 16) +
theme(
panel.border = element_blank(),
panel.grid.minor = element_blank(),
legend.position = "inside",
legend.position.inside = c(0.15, 0.85),
axis.text = element_text(color = "black"),
axis.line = element_line(color = "black", linewidth = 1)
)
version_history
version_history <- vh_formatted |>
ggplot(aes(x = Year,  y = `Cumulative Number of Updates`, group = Accession, color = Accession)) +
geom_vline(mapping = aes(xintercept = 2016), linetype = "dashed", linewidth = 0.6, color = "gray50") +
geom_step(linewidth = 2) +
scale_color_manual(name = "Accession", breaks = c("NC_002947", "AE015451"), values = c("steelblue", "#8cba9d"))+
scale_x_continuous(breaks = c(2002, 2006, 2010, 2014, 2018, 2022)) +
labs(x = "Year", y = "Cumulative number of revisions") +
theme_light(base_size = 16) +
theme(
panel.border = element_blank(),
panel.grid.minor = element_blank(),
legend.position = "inside",
legend.position.inside = c(0.15, 0.85),
axis.text = element_text(color = "black"),
axis.line = element_line(color = "black", linewidth = 0.5)
)
version_history
version_history <- vh_formatted |>
ggplot(aes(x = Year,  y = `Cumulative Number of Updates`, group = Accession, color = Accession)) +
geom_vline(mapping = aes(xintercept = 2016), linetype = "dashed", linewidth = 0.6, color = "gray50") +
geom_step(linewidth = 2) +
scale_color_manual(name = "Accession", breaks = c("NC_002947", "AE015451"), values = c("steelblue", "#8cba9d"))+
scale_x_continuous(breaks = c(2002, 2006, 2010, 2014, 2018, 2022)) +
labs(x = "Year", y = "Cumulative number of revisions") +
theme_light(base_size = 16) +
theme(
panel.border = element_blank(),
panel.grid.minor = element_blank(),
legend.position = "inside",
legend.position.inside = c(0.15, 0.85),
legend.box.background = element_rect(fill = "#FFFFFF00")
axis.text = element_text(color = "black"),
version_history <- vh_formatted |>
ggplot(aes(x = Year,  y = `Cumulative Number of Updates`, group = Accession, color = Accession)) +
geom_vline(mapping = aes(xintercept = 2016), linetype = "dashed", linewidth = 0.6, color = "gray50") +
geom_step(linewidth = 2) +
scale_color_manual(name = "Accession", breaks = c("NC_002947", "AE015451"), values = c("steelblue", "#8cba9d"))+
scale_x_continuous(breaks = c(2002, 2006, 2010, 2014, 2018, 2022)) +
labs(x = "Year", y = "Cumulative number of revisions") +
theme_light(base_size = 16) +
theme(
panel.border = element_blank(),
panel.grid.minor = element_blank(),
legend.position = "inside",
legend.position.inside = c(0.15, 0.85),
legend.box.background = element_rect(fill = "#FFFFFF00"),
axis.text = element_text(color = "black"),
axis.line = element_line(color = "black", linewidth = 0.5)
)
version_history
version_history <- vh_formatted |>
ggplot(aes(x = Year,  y = `Cumulative Number of Updates`, group = Accession, color = Accession)) +
geom_vline(mapping = aes(xintercept = 2016), linetype = "dashed", linewidth = 0.6, color = "gray50") +
geom_step(linewidth = 2) +
scale_color_manual(name = "Accession", breaks = c("NC_002947", "AE015451"), values = c("steelblue", "#8cba9d"))+
scale_x_continuous(breaks = c(2002, 2006, 2010, 2014, 2018, 2022)) +
labs(x = "Year", y = "Cumulative number of revisions") +
theme_light(base_size = 16) +
theme(
panel.border = element_blank(),
panel.grid.minor = element_blank(),
legend.position = "inside",
legend.position.inside = c(0.15, 0.85),
legend.box.background = element_rect(fill = "#FFFFFFFF"),
axis.text = element_text(color = "black"),
axis.line = element_line(color = "black", linewidth = 0.5)
)
version_history
version_history <- vh_formatted |>
ggplot(aes(x = Year,  y = `Cumulative Number of Updates`, group = Accession, color = Accession)) +
geom_vline(mapping = aes(xintercept = 2016), linetype = "dashed", linewidth = 0.6, color = "gray50") +
geom_step(linewidth = 2) +
scale_color_manual(name = "Accession", breaks = c("NC_002947", "AE015451"), values = c("steelblue", "#8cba9d"))+
scale_x_continuous(breaks = c(2002, 2006, 2010, 2014, 2018, 2022)) +
labs(x = "Year", y = "Cumulative number of revisions") +
theme_light(base_size = 16) +
theme(
panel.border = element_blank(),
panel.grid.minor = element_blank(),
legend.position = "inside",
legend.position.inside = c(0.15, 0.85),
axis.text = element_text(color = "black"),
axis.line = element_line(color = "black", linewidth = 0.5)
)
version_history
version_history <- vh_formatted |>
ggplot(aes(x = Year,  y = `Cumulative Number of Updates`, group = Accession, color = Accession)) +
geom_vline(mapping = aes(xintercept = 2016), linetype = "dashed", linewidth = 0.6, color = "gray50") +
geom_step(linewidth = 2) +
scale_color_manual(name = "Accession", breaks = c("NC_002947", "AE015451"), values = c("steelblue", "#8cba9d"))+
scale_x_continuous(breaks = c(2002, 2006, 2010, 2014, 2018, 2022)) +
scale_y_continuous(expand = expansion(mult = c(0,0.05))) +
labs(x = "Year", y = "Cumulative number of revisions") +
theme_light(base_size = 16) +
theme(
panel.border = element_blank(),
panel.grid.minor = element_blank(),
legend.position = "inside",
legend.position.inside = c(0.15, 0.85),
axis.text = element_text(color = "black"),
axis.line = element_line(color = "black", linewidth = 0.5)
)
version_history
version_history <- vh_formatted |>
ggplot(aes(x = Year,  y = `Cumulative Number of Updates`, group = Accession, color = Accession)) +
geom_vline(mapping = aes(xintercept = 2016), linetype = "dashed", linewidth = 0.6, color = "gray50") +
geom_step(linewidth = 2) +
scale_color_manual(name = "Accession", breaks = c("NC_002947", "AE015451"), values = c("steelblue", "#8cba9d"))+
scale_x_continuous(breaks = c(2002, 2006, 2010, 2014, 2018, 2022)) +
scale_y_continuous(expand = expansion(mult = c(0.1,0.05))) +
labs(x = "Year", y = "Cumulative number of revisions") +
theme_light(base_size = 16) +
theme(
panel.border = element_blank(),
panel.grid.minor = element_blank(),
legend.position = "inside",
legend.position.inside = c(0.15, 0.85),
axis.text = element_text(color = "black"),
axis.line = element_line(color = "black", linewidth = 0.5)
)
version_history
version_history <- vh_formatted |>
ggplot(aes(x = Year,  y = `Cumulative Number of Updates`, group = Accession, color = Accession)) +
geom_vline(mapping = aes(xintercept = 2016), linetype = "dashed", linewidth = 0.6, color = "gray50") +
geom_step(linewidth = 2) +
scale_color_manual(name = "Accession", breaks = c("NC_002947", "AE015451"), values = c("steelblue", "#8cba9d"))+
scale_x_continuous(breaks = c(2002, 2006, 2010, 2014, 2018, 2022)) +
scale_y_continuous(expand = expansion(mult = c(0.01,0.05))) +
labs(x = "Year", y = "Cumulative number of revisions") +
theme_light(base_size = 16) +
theme(
panel.border = element_blank(),
panel.grid.minor = element_blank(),
legend.position = "inside",
legend.position.inside = c(0.15, 0.85),
axis.text = element_text(color = "black"),
axis.line = element_line(color = "black", linewidth = 0.5)
)
version_history
version_history <- vh_formatted |>
ggplot(aes(x = Year,  y = `Cumulative Number of Updates`, group = Accession, color = Accession)) +
geom_vline(mapping = aes(xintercept = 2016), linetype = "dashed", linewidth = 0.6, color = "gray50") +
geom_step(linewidth = 2) +
scale_color_manual(name = "Accession", breaks = c("NC_002947", "AE015451"), values = c("steelblue", "#8cba9d"))+
scale_x_continuous(breaks = c(2002, 2006, 2010, 2014, 2018, 2022)) +
scale_y_continuous(expand = expansion(mult = c(0.05,0.05))) +
labs(x = "Year", y = "Cumulative number of revisions") +
theme_light(base_size = 16) +
theme(
panel.border = element_blank(),
panel.grid.minor = element_blank(),
legend.position = "inside",
legend.position.inside = c(0.15, 0.85),
axis.text = element_text(color = "black"),
axis.line = element_line(color = "black", linewidth = 0.5)
)
version_history
version_history <- vh_formatted |>
ggplot(aes(x = Year,  y = `Cumulative Number of Updates`, group = Accession, color = Accession)) +
geom_vline(mapping = aes(xintercept = 2016), linetype = "dashed", linewidth = 0.6, color = "gray50") +
geom_step(linewidth = 2) +
scale_color_manual(name = "Accession", breaks = c("NC_002947", "AE015451"), values = c("steelblue", "#8cba9d"))+
scale_x_continuous(breaks = c(2002, 2006, 2010, 2014, 2018, 2022)) +
scale_y_continuous(expand = expansion(mult = c(0.01,0.05)), breaks = c(0, 20, 40, 60)) +
labs(x = "Year", y = "Cumulative number of revisions") +
theme_light(base_size = 16) +
theme(
panel.border = element_blank(),
panel.grid.minor = element_blank(),
legend.position = "inside",
legend.position.inside = c(0.15, 0.85),
axis.text = element_text(color = "black"),
axis.line = element_line(color = "black", linewidth = 0.5)
)
version_history
version_history <- vh_formatted |>
ggplot(aes(x = Year,  y = `Cumulative Number of Updates`, group = Accession, color = Accession)) +
geom_vline(mapping = aes(xintercept = 2016), linetype = "dashed", linewidth = 0.6, color = "gray50") +
geom_step(linewidth = 2) +
scale_color_manual(name = "Accession", breaks = c("NC_002947", "AE015451"), values = c("steelblue", "#8cba9d"))+
scale_x_continuous(breaks = c(2002, 2006, 2010, 2014, 2018, 2022)) +
scale_y_continuous(expand = expansion(mult = c(0.01,0.05)), breaks = c(0, 20, 40, 60), labels = c(0, 20, 40, 60)) +
labs(x = "Year", y = "Cumulative number of revisions") +
theme_light(base_size = 16) +
theme(
panel.border = element_blank(),
panel.grid.minor = element_blank(),
legend.position = "inside",
legend.position.inside = c(0.15, 0.85),
axis.text = element_text(color = "black"),
axis.line = element_line(color = "black", linewidth = 0.5)
)
version_history
version_history <- vh_formatted |>
ggplot(aes(x = Year,  y = `Cumulative Number of Updates`, group = Accession, color = Accession)) +
geom_vline(mapping = aes(xintercept = 2016), linetype = "dashed", linewidth = 0.6, color = "gray50") +
geom_step(linewidth = 2) +
scale_color_manual(name = "Accession", breaks = c("NC_002947", "AE015451"), values = c("steelblue", "#8cba9d"))+
scale_x_continuous(breaks = c(2002, 2006, 2010, 2014, 2018, 2022)) +
scale_y_continuous(expand = expansion(mult = c(0.025,0.05)), breaks = c(0, 20, 40, 60), labels = c(0, 20, 40, 60)) +
labs(x = "Year", y = "Cumulative number of revisions") +
theme_light(base_size = 16) +
theme(
panel.border = element_blank(),
panel.grid.minor = element_blank(),
legend.position = "inside",
legend.position.inside = c(0.15, 0.85),
axis.text = element_text(color = "black"),
axis.line = element_line(color = "black", linewidth = 0.5)
)
version_history
version_history <- vh_formatted |>
ggplot(aes(x = Year,  y = `Cumulative Number of Updates`, group = Accession, color = Accession)) +
geom_vline(mapping = aes(xintercept = 2016), linetype = "dashed", linewidth = 0.6, color = "gray50") +
geom_step(linewidth = 2) +
scale_color_manual(name = "Accession", breaks = c("NC_002947", "AE015451"), values = c("steelblue", "#8cba9d"))+
scale_x_continuous(breaks = c(2002, 2006, 2010, 2014, 2018, 2022)) +
scale_y_continuous(expand = expansion(mult = c(0.025,0.05)), breaks = c(0, 20, 40, 60), labels = c(0, 20, 40, 60)) +
labs(x = "Year", y = "Cumulative number of revisions") +
theme_light(base_size = 16) +
theme(
panel.border = element_blank(),
panel.grid.minor = element_blank(),
legend.position = "inside",
legend.position.inside = c(0.15, 0.85),
axis.text = element_text(color = "black"),
axis.line = element_line(color = "black", linewidth = 0.5)
)
ggsave(version_history, filename = "Fig 4. - version history", device = Cairo::CairoSVG, path = "../output/panels/", width = 6, height = 5, units = "in", dpi = 300)
source("~/Desktop/Tese/Chapter 2/ppuLiteratureMetrics/figure 4 - publications timeseries.R", echo=TRUE)
pub_history <- cumsum_data |>
ggplot(aes(x = year, y = cummulative, fill = query, color = query, group)) +
geom_area(linewidth = 1) +
#geom_text()
scale_x_continuous(breaks = c(2002, 2006, 2010, 2014, 2018, 2022))+
scale_y_continuous(expand = expansion(mult = c(0.025,0.05))) +
scale_fill_manual(name = "Search term", breaks = c("NC_002947", "AE015451"), values = c("lightsteelblue", "#8cba9d"), labels = c('"NC_002947"', '"AE015451"')) +
scale_color_manual(name = "Search term", breaks = c("NC_002947", "AE015451"), labels = c('"NC_002947"', '"AE015451"'), values = c("steelblue", "#5b7866")) +
labs(x = "Year", y = "Cumulative number of publications") +
theme_light(base_size = 16) +
theme(
panel.border = element_blank(),
panel.grid.minor = element_blank(),
legend.position = "inside",
legend.position.inside = c(0.18, 0.85),
axis.text = element_text(color = "black"),
axis.line = element_line(color = "black", linewidth = 0.5)
)
pub_history
pub_history <- cumsum_data |>
ggplot(aes(x = year, y = cummulative, fill = query, color = query, group)) +
geom_area(linewidth = 1) +
#geom_text()
scale_x_continuous(breaks = c(2002, 2006, 2010, 2014, 2018, 2022))+
scale_y_continuous(expand = expansion(mult = c(0,0.05))) +
scale_fill_manual(name = "Search term", breaks = c("NC_002947", "AE015451"), values = c("lightsteelblue", "#8cba9d"), labels = c('"NC_002947"', '"AE015451"')) +
scale_color_manual(name = "Search term", breaks = c("NC_002947", "AE015451"), labels = c('"NC_002947"', '"AE015451"'), values = c("steelblue", "#5b7866")) +
labs(x = "Year", y = "Cumulative number of publications") +
theme_light(base_size = 16) +
theme(
panel.border = element_blank(),
panel.grid.minor = element_blank(),
legend.position = "inside",
legend.position.inside = c(0.18, 0.85),
axis.text = element_text(color = "black"),
axis.line = element_line(color = "black", linewidth = 0.5)
)
pub_history
h
pub_history <- cumsum_data |>
ggplot(aes(x = year, y = cummulative, fill = query, color = query, group)) +
geom_area(linewidth = 1) +
#geom_text()
scale_x_continuous(breaks = c(2002, 2006, 2010, 2014, 2018, 2022))+
scale_y_continuous(expand = expansion(mult = c(0,0.05))) +
scale_fill_manual(name = "Search term", breaks = c("NC_002947", "AE015451"), values = c("lightsteelblue", "#8cba9d"), labels = c('"NC_002947"', '"AE015451"')) +
scale_color_manual(name = "Search term", breaks = c("NC_002947", "AE015451"), labels = c('"NC_002947"', '"AE015451"'), values = c("steelblue", "#5b7866")) +
labs(x = "Year", y = "Cumulative number of publications") +
theme_light(base_size = 16) +
theme(
panel.border = element_blank(),
panel.grid.minor = element_blank(),
legend.position = "inside",
legend.position.inside = c(0.18, 0.85),
axis.text = element_text(color = "black"),
axis.line = element_line(color = "black", linewidth = 0.5)
)
colorblindr::cvd_grid(pub_history)
ggsave(pub_history, filename = "Fig 4. - publication history", device = Cairo::CairoSVG, path = "../output/panels/", width = 6, height = 5, units = "in", dpi = 300)
# saves the new table
if (!file.exists("../output/tables/scholar_results.tsv")) {
res <- load("scholar_results.rds")
readr::write_tsv("../output/tables/scholar_results.tsv")
}
res <- load("scholar_results.rds")
res <- readRDS("scholar_results.rds")
readr::write_tsv("../output/tables/scholar_results.tsv")
res <- readRDS("scholar_results.rds")
readr::write_tsv(x = res, "../output/tables/scholar_results.tsv")
getDataFromGoogleScholar <- function(query) {
# starts the RSelenium session
server <- RSelenium::rsDriver(browser = "chrome",
phantomver = NULL,
chromever = "131.0.6778.87",
geckover = NULL,
port = 4435L,
check = TRUE)
client <- server$client
# initialize the loop variables
titleinfo <- NA
pubinfo <- NA
startidx <- 0
publication_data <- NULL
while(length(pubinfo) > 0 && length(titleinfo) > 0) {
url <- glue::glue('https://scholar.google.com/scholar?start={startidx}&q="{query}"')
client$navigate(url)
# when RSelenium navigate to the url, google might ask you if you are a robot
# solve the captcha on the broweser and let R take care of the data
# For this, the script waits 20 seconds before proceeding...
Sys.sleep(20)
# gets publications titles
titleinfo <- client$findElements(using = "css", ".gs_rt") |>
purrr::map_chr(~ {
title <- .x$getElementText() |> unlist()
return(title)
})
# gets author, journal, year, etc...
pubinfo <- client$findElements(using = "css",".gs_a")|>
purrr::map_chr(~ {
info <- .x$getElementText() |> unlist()
return(info)
})
# checks if we reached the end of the search results -- then exits the loop accordingly
if( length(pubinfo) == 0 && length(titleinfo) == 0) break
# formats titles
titledata <- titleinfo |>
stringr::str_remove_all("\\[HTML\\]|\\[PDF\\]") |> # removes leftover brackets from the title
stringr::str_squish()
# formats metadata and joins the title
pubdata <- pubinfo |>
stringr::str_split(pattern = "-\\s") |>
purrr::map( ~ {
data.frame(authors = .x[1], article = .x[2], publisher = .x[3])
}) |>
dplyr::bind_rows() |>
tidyr::separate_wider_delim(cols = article,
delim = ",",
names = c("journal", "year"),
too_few = "align_end",
too_many = "merge") |>
dplyr::mutate(title = titledata) |>
dplyr::relocate(all_of(c("authors", "journal", "year", "publisher", "title")))
# appends the new information to the overall results dataframe
publication_data <- dplyr::bind_rows(publication_data, pubdata)
# goes to the next page...
startidx <- startidx + 10
}
# closes the conection
server$server$stop()
return(publication_data)
}
# getting GenBank results
genbank <- getDataFromGoogleScholar("AE015451") |>
dplyr::mutate(query = "AE015451")
library(ggplot2)
source("utils.R")
refseq_url <- "https://www.ncbi.nlm.nih.gov/nuccore/NC_002947.4?report=girevhist"
genbank_url <- "https://www.ncbi.nlm.nih.gov/nuccore/AE015451.2?report=girevhist"
version_history <- purrr::map(c(refseq_url, genbank_url), ~ {
rvest::read_html(.x) |>
rvest::html_table() |>
purrr::pluck(1) |>
dplyr::select(Version:`Update Date`)
}) |>
purrr::list_rbind()
version_history
vh_formatted <- version_history |>
dplyr::mutate(`Update Date` = lubridate::mdy_hm(`Update Date`),
Accession = stringr::str_remove_all(Accession, "\\.+\\d"),
Year = lubridate::year(`Update Date`),
individual.record = 1) |>
dplyr::arrange(Accession, `Update Date`) |>
dplyr::group_by(`Accession`, Year) |>
dplyr::reframe(n.versions = sum(individual.record)) |>
dplyr::group_by(Accession) |>
dplyr::mutate(`Cumulative Number of Updates` = cumsum(n.versions)) |>
dplyr::select(-n.versions) |>
dplyr::bind_rows( # fills out some of the information for the plot
tibble::tibble(
Accession = c("AE015451"),
Year = c(2023),
`Cumulative Number of Updates` = c(12))
)
vh_formatted
version_history
library(ggplot2)
source("utils.R")
refseq_url <- "https://www.ncbi.nlm.nih.gov/nuccore/NC_002947.4?report=girevhist"
genbank_url <- "https://www.ncbi.nlm.nih.gov/nuccore/AE015451.2?report=girevhist"
version_history <- purrr::map(c(refseq_url, genbank_url), ~ {
rvest::read_html(.x) |>
rvest::html_table() |>
purrr::pluck(1) |>
dplyr::select(Version:`Update Date`)
}) |>
purrr::list_rbind()
vh_formatted <- version_history |>
dplyr::mutate(`Update Date` = lubridate::mdy_hm(`Update Date`),
Accession = stringr::str_remove_all(Accession, "\\.+\\d"),
Year = lubridate::year(`Update Date`),
individual.record = 1) |>
dplyr::arrange(Accession, `Update Date`) |>
dplyr::group_by(`Accession`, Year) |>
dplyr::reframe(n.versions = sum(individual.record)) |>
dplyr::group_by(Accession) |>
dplyr::mutate(`Cumulative Number of Updates` = cumsum(n.versions)) |>
dplyr::select(-n.versions) |>
dplyr::bind_rows( # fills out some of the information for the plot
tibble::tibble(
Accession = c("AE015451"),
Year = c(2023),
`Cumulative Number of Updates` = c(12))
)
vh_formatted
version_history
# getting the year major releases were rolled out
version_history |>
dplyr::mutate(Year = lubridate::year(`Update Date`))
# getting the year major releases were rolled out
version_history |>
dplyr::mutate(
`Update Date` = lubridate::mdy_hm(`Update Date`),
Year = lubridate::year(`Update Date`))
# getting the year major releases were rolled out
version_history |>
dplyr::mutate(
`Update Date` = lubridate::mdy_hm(`Update Date`),
Year = lubridate::year(`Update Date`)) |>
dplyr::group_by(Accession) |>
dplyr::slice_min(Year)
# getting the year major releases were rolled out
version_history |>
dplyr::mutate(
`Update Date` = lubridate::mdy_hm(`Update Date`),
Year = lubridate::year(`Update Date`)) |>
dplyr::group_by(Accession) |>
dplyr::slice_min(Year, n = 1)
View(version_history)
# getting the year major releases were rolled out
version_history |>
dplyr::mutate(
`Update Date` = lubridate::mdy_hm(`Update Date`),
Year = lubridate::year(`Update Date`)) |>
dplyr::group_by(Accession) |>
dplyr::slice_min(`Update Date`, n = 1)
# getting the year major releases were rolled out
version_history |>
dplyr::mutate(
`Update Date` = lubridate::mdy_hm(`Update Date`),
Year = lubridate::year(`Update Date`)) |> View()
source("~/Desktop/Tese/Chapter 2/ppuLiteratureMetrics/figure 4 - publications timeseries.R", echo=TRUE)
